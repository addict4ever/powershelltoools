<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de Diagnostic Informatique</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            color: #007bff;
        }
        label {
            font-weight: bold;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input[type="text"],
        .form-group input[type="tel"],
        .form-group input[type="password"],
        .form-group input[type="number"],
        .form-group input[type="date"],
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            resize: vertical;
        }
        .form-group textarea {
            min-height: 100px;
        }
        .form-group .radio-label {
            margin-right: 15px;
        }
        .form-group .checkbox-label {
            margin-right: 15px;
            background-color: #e0f7fa;
            padding: 5px;
            border-radius: 4px;
        }
        .form-group .inline {
            display: inline-block;
            margin-right: 15px;
        }
        .form-group .inline:last-child {
            margin-right: 0;
        }
        .form-group .required::after {
            content: '*';
            color: red;
        }
        .form-group .notes {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        .form-group .notes span {
            font-weight: bold;
            color: #333;
        }
        .submit-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        .submit-btn:hover {
            background-color: #0056b3;
        }
        .report-container {
            max-width: 800px;
            margin: 20px auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .report-container h2 {
            color: #007bff;
            margin-bottom: 20px;
        }
        .report-item {
            margin-bottom: 10px;
        }
        .report-item label {
            font-weight: bold;
        }
        .report-item span {
            display: inline-block;
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            margin-top: 5px;
        }
        .report-item textarea {
            width: 100%;
            min-height: 100px;
            resize: vertical;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Formulaire de Diagnostic Informatique</h1>
        <form id="diagnostic-form">
            <div class="form-group">
                <label for="nom-client" class="required">Nom du Client :</label>
                <input type="text" id="nom-client" name="nom-client" required>
            </div>
            <div class="form-group">
                <label for="telephone" class="required">Téléphone :</label>
                <input type="tel" id="telephone" name="telephone" required>
            </div>
            <div class="form-group">
                <label for="fonctionnel-moment" class="required">L'appareil est-il Fonctionnel Actuellement ou l'avez-vous Vu Allumé ?</label><br>
                <input type="radio" id="fonctionnel-oui" name="fonctionnel-moment" value="Oui" required>
                <label class="radio-label" for="fonctionnel-oui">Oui</label>
                <input type="radio" id="fonctionnel-non" name="fonctionnel-moment" value="Non" required>
                <label class="radio-label" for="fonctionnel-non">Non</label>
            </div>
            <div class="form-group" id="password-section" style="display: none;">
                <label for="protection-password" class="required">L'appareil est-il protégé par un mot de passe ?</label><br>
                <input type="radio" id="password-oui" name="protection-password" value="Oui" required>
                <label class="radio-label" for="password-oui">Oui</label>
                <input type="radio" id="password-non" name="protection-password" value="Non" required>
                <label class="radio-label" for="password-non">Non</label>
            </div>
            <div class="form-group" id="password-field" style="display: none;">
                <label for="password">Mot de Passe :</label>
                <input type="password" id="password" name="password">
            </div>
            <div class="form-group">
                <label class="required">Adaptateur de Courant :</label><br>
                <input type="radio" id="adapteur-oui" name="adapteur-courant" value="Oui" required>
                <label class="radio-label" for="adapteur-oui">Oui</label>
                <input type="radio" id="adapteur-non" name="adapteur-courant" value="Non" required>
                <label class="radio-label" for="adapteur-non">Non</label>
            </div>
            <div class="form-group">
                <label for="duree-probleme" class="required">Depuis Quand Dure le Problème Principal :</label>
                <input type="text" id="duree-probleme" name="duree-probleme" required>
            </div>
            <div class="form-group">
                <label for="virus-infection">Le problème est-il lié à une infection par un virus ou un malware ?</label><br>
                <input type="radio" id="virus-oui" name="virus-infection" value="Oui">
                <label class="radio-label" for="virus-oui">Oui</label>
                <input type="radio" id="virus-non" name="virus-infection" value="Non">
                <label class="radio-label" for="virus-non">Non</label>
            </div>
            <div class="form-group">
                <label for="type-appareil" class="required">Type d'Appareil :</label>
                <select id="type-appareil" name="type-appareil" required>
                    <option value="">Sélectionner...</option>
                    <option value="Imprimante">Imprimante</option>
                    <option value="Laptop">Laptop</option>
                    <option value="Ordinateur de Bureau">Ordinateur de Bureau</option>
                    <option value="Cellulaire">Cellulaire</option>
                    <option value="Tablette">Tablette</option>
                    <option value="Autre">Autre</option>
                </select>
            </div>
            <div id="questions-section" style="display: none;">
                <div class="form-group">
                    <label for="marque-appareil">Marque de l'Appareil :</label>
                    <input type="text" id="marque-appareil" name="marque-appareil">
                </div>
                <div class="form-group">
                    <label for="probleme">Description du Problème :</label>
                    <textarea id="probleme" name="probleme" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label for="code-erreur">Code d'Erreur (le cas échéant) :</label>
                    <input type="text" id="code-erreur" name="code-erreur">
                </div>
                <div class="form-group">
                    <label for="système-exploitation">Système d'Exploitation :</label>
                    <select id="système-exploitation" name="système-exploitation">
                        <option value="">Sélectionner...</option>
                        <option value="Windows 10">Windows 10</option>
                        <option value="Windows 11">Windows 11</option>
                        <option value="macOS">macOS</option>
                        <option value="Linux">Linux</option>
                        <option value="Autre">Autre</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="pieces-remplacees">Pièces Déjà Remplacées :</label>
                    <input type="text" id="pieces-remplacees" name="pieces-remplacees">
                </div>
                <div class="form-group">
                    <label for="historique-probleme">Historique du Problème :</label>
                    <textarea id="historique-probleme" name="historique-probleme" rows="4"></textarea>
                    <span class="notes">Inclure les symptômes observés avant d'amener l'appareil.</span>
                </div>
                <div class="form-group">
                    <label>Sauvegardes Disponibles :</label><br>
                    <input type="radio" id="sauvegardes-oui" name="sauvegardes" value="Oui">
                    <label class="radio-label" for="sauvegardes-oui">Oui</label>
                    <input type="radio" id="sauvegardes-non" name="sauvegardes" value="Non">
                    <label class="radio-label" for="sauvegardes-non">Non</label>
                </div>
                <div class="form-group">
                    <label for="antivirus">Antivirus Utilisé :</label>
                    <input type="text" id="antivirus" name="antivirus">
                </div>
                <div class="form-group">
                    <label for="connexion-reseau">Détails de Connexion Réseau :</label>
                    <textarea id="connexion-reseau" name="connexion-reseau" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label for="notes-additionnelles">Notes Additionnelles :</label>
                    <textarea id="notes-additionnelles" name="notes-additionnelles" rows="4"></textarea>
                </div>
            </div>
            <button type="submit" class="submit-btn">Soumettre</button>
        </form>
    </div>

    <script>
        const diagnosticForm = document.getElementById('diagnostic-form');

        diagnosticForm.addEventListener('submit', function(event) {
            event.preventDefault();
            validateForm();
        });

        document.getElementById('type-appareil').addEventListener('change', function(event) {
            const typeAppareil = event.target.value;
            const questionsSection = document.getElementById('questions-section');
            const passwordSection = document.getElementById('password-section');
            const passwordField = document.getElementById('password-field');

            passwordSection.style.display = 'none';
            passwordField.style.display = 'none';
            questionsSection.innerHTML = '';

            if (typeAppareil) {
                questionsSection.style.display = 'block';

                if (typeAppareil === 'Laptop' || typeAppareil === 'Cellulaire' || typeAppareil === 'Tablette') {
                    passwordSection.style.display = 'block';
                    passwordField.style.display = 'block';
                }

                if (typeAppareil === 'Imprimante') {
                    questionsSection.innerHTML += `
                        <div class="form-group">
                            <label for="type-connexion">Type de Connexion :</label>
                            <select id="type-connexion" name="type-connexion">
                                <option value="">Sélectionner...</option>
                                <option value="USB">USB</option>
                                <option value="Réseau">Réseau</option>
                                <option value="Sans Fil">Sans Fil</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="marque-cartouche">Marque des Cartouches :</label>
                            <select id="marque-cartouche" name="marque-cartouche">
                                <option value="">Sélectionner...</option>
                                <option value="Original">Original</option>
                                <option value="Compatible">Compatible</option>
                                <option value="Rechargée">Rechargée</option>
                                <option value="Autre">Autre</option>
                            </select>
                        </div>
                        <div class="form-group" id="specify-cartouche" style="display: none;">
                            <label for="specification-cartouche">Veuillez spécifier :</label>
                            <input type="text" id="specification-cartouche" name="specification-cartouche">
                        </div>
                        <div class="form-group">
                            <label for="dernier-entretien">Date du Dernier Entretien :</label>
                            <input type="date" id="dernier-entretien" name="dernier-entretien">
                        </div>
                        <div class="form-group">
                            <label for="nombre-pages-imprimees">Nombre de Pages Imprimées :</label>
                            <input type="number" id="nombre-pages-imprimees" name="nombre-pages-imprimees">
                        </div>
                        <div class="form-group">
                            <label for="message-erreur">Message d'Erreur :</label>
                            <input type="text" id="message-erreur" name="message-erreur">
                        </div>
                        <div class="form-group">
                            <label for="papier-bloque">Le papier est-il bloqué ?</label><br>
                            <input type="radio" id="papier-bloque-oui" name="papier-bloque" value="Oui">
                            <label class="radio-label" for="papier-bloque-oui">Oui</label>
                            <input type="radio" id="papier-bloque-non" name="papier-bloque" value="Non">
                            <label class="radio-label" for="papier-bloque-non">Non</label>
                        </div>
                        <div class="form-group">
                            <label for="qualite-impression">Qualité d'Impression :</label>
                            <select id="qualite-impression" name="qualite-impression">
                                <option value="">Sélectionner...</option>
                                <option value="Bonne">Bonne</option>
                                <option value="Moyenne">Moyenne</option>
                                <option value="Mauvaise">Mauvaise</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="bruit-anormal">Avez-vous remarqué un bruit anormal ?</label><br>
                            <input type="radio" id="bruit-anormal-oui" name="bruit-anormal" value="Oui">
                            <label class="radio-label" for="bruit-anormal-oui">Oui</label>
                            <input type="radio" id="bruit-anormal-non" name="bruit-anormal" value="Non">
                            <label class="radio-label" for="bruit-anormal-non">Non</label>
                        </div>
                        <div class="form-group">
                            <label for="probleme-tambour">Suspicion de Problème de Tambour :</label><br>
                            <input type="radio" id="probleme-tambour-oui" name="probleme-tambour" value="Oui">
                            <label class="radio-label" for="probleme-tambour-oui">Oui</label>
                            <input type="radio" id="probleme-tambour-non" name="probleme-tambour" value="Non">
                            <label class="radio-label" for="probleme-tambour-non">Non</label>
                        </div>
                        <div class="form-group">
                            <label for="autre-problemes">Y a-t-il d'autres problèmes ou observations ?</label>
                            <textarea id="autre-problemes" name="autre-problemes" rows="4"></textarea>
                        </div>
                    `;

                    document.getElementById('marque-cartouche').addEventListener('change', function() {
                        const specifyCartouche = document.getElementById('specify-cartouche');
                        if (this.value === 'Autre') {
                            specifyCartouche.style.display = 'block';
                        } else {
                            specifyCartouche.style.display = 'none';
                        }
                    });
                
                } else if (typeAppareil === 'Laptop') {
                    questionsSection.innerHTML += `
                        <div class="form-group">
                            <label for="modele-laptop">Modèle du Laptop :</label>
                            <input type="text" id="modele-laptop" name="modele-laptop">
                        </div>
                        <div class="form-group">
                            <label for="os-laptop">Système d'exploitation :</label>
                            <input type="text" id="os-laptop" name="os-laptop">
                        </div>
                        <div class="form-group">
                            <label>Utilisation Récemment Modifiée :</label><br>
                            <input type="checkbox" id="utilisation-modifiee" name="utilisation-modifiee[]" value="Mise à Jour du Système d'Exploitation">
                            <label class="checkbox-label" for="utilisation-modifiee">Mise à Jour du Système d'Exploitation</label>
                            <input type="checkbox" id="utilisation-modifiee2" name="utilisation-modifiee[]" value="Installation de Nouveaux Programmes">
                            <label class="checkbox-label" for="utilisation-modifiee2">Installation de Nouveaux Programmes</label>
                            <input type="checkbox" id="utilisation-modifiee3" name="utilisation-modifiee[]" value="Changement de Matériel">
                            <label class="checkbox-label" for="utilisation-modifiee3">Changement de Matériel</label>
                            <input type="checkbox" id="utilisation-modifiee4" name="utilisation-modifiee[]" value="Suppression de Programmes">
                            <label class="checkbox-label" for="utilisation-modifiee4">Suppression de Programmes</label>
                        </div>
                        <div class="form-group">
                            <label>Problèmes Rencontrés :</label><br>
                            <input type="checkbox" id="probleme-performances" name="problemes[]" value="Performances">
                            <label class="checkbox-label" for="probleme-performances">Performances</label>
                            <textarea id="details-performances" name="details-performances" rows="4" placeholder="Détails sur les problèmes de performances..."></textarea>
                            <input type="checkbox" id="probleme-ecran" name="problemes[]" value="Ecran">
                            <label class="checkbox-label" for="probleme-ecran">Ecran</label>
                            <textarea id="details-ecran" name="details-ecran" rows="4" placeholder="Détails sur les problèmes d'écran..."></textarea>
                            <input type="checkbox" id="probleme-chauffe" name="problemes[]" value="Chauffe">
                            <label class="checkbox-label" for="probleme-chauffe">Chauffe</label>
                            <textarea id="details-chauffe" name="details-chauffe" rows="4" placeholder="Détails sur les problèmes de chauffe..."></textarea>
                            <input type="checkbox" id="probleme-batterie" name="problemes[]" value="Batterie">
                            <label class="checkbox-label" for="probleme-batterie">Batterie</label>
                            <textarea id="details-batterie" name="details-batterie" rows="4" placeholder="Détails sur les problèmes de batterie..."></textarea>
                            <input type="checkbox" id="probleme-clavier" name="problemes[]" value="Clavier">
                            <label class="checkbox-label" for="probleme-clavier">Clavier</label>
                            <textarea id="details-clavier" name="details-clavier" rows="4" placeholder="Détails sur les problèmes de clavier..."></textarea>
                            <input type="checkbox" id="probleme-touchpad" name="problemes[]" value="Touchpad">
                            <label class="checkbox-label" for="probleme-touchpad">Touchpad</label>
                            <textarea id="details-touchpad" name="details-touchpad" rows="4" placeholder="Détails sur les problèmes de touchpad..."></textarea>
                            <input type="checkbox" id="probleme-connectivite" name="problemes[]" value="Connectivité">
                            <label class="checkbox-label" for="probleme-connectivite">Connectivité</label>
                            <textarea id="details-connectivite" name="details-connectivite" rows="4" placeholder="Détails sur les problèmes de connectivité..."></textarea>
                        </div>
                    `;

                } else if (typeAppareil === 'Ordinateur de Bureau') {
                    questionsSection.innerHTML += `
                        <div class="form-group">
                            <label for="modele-bureau">Modèle de l'Ordinateur de Bureau :</label>
                            <input type="text" id="modele-bureau" name="modele-bureau">
                        </div>
                        <div class="form-group">
                            <label for="os-bureau">Système d'exploitation :</label>
                            <input type="text" id="os-bureau" name="os-bureau">
                        </div>
                        <div class="form-group">
                            <label for="os-laptop">Système d'exploitation :</label>
                            <input type="text" id="os-laptop" name="os-laptop">
                        </div>
                        <div class="form-group">
                            <label>Utilisation Récemment Modifiée :</label><br>
                            <input type="checkbox" id="utilisation-modifiee" name="utilisation-modifiee[]" value="Mise à Jour du Système d'Exploitation">
                            <label class="checkbox-label" for="utilisation-modifiee">Mise à Jour du Système d'Exploitation</label>
                            <input type="checkbox" id="utilisation-modifiee2" name="utilisation-modifiee[]" value="Installation de Nouveaux Programmes">
                            <label class="checkbox-label" for="utilisation-modifiee2">Installation de Nouveaux Programmes</label>
                            <input type="checkbox" id="utilisation-modifiee3" name="utilisation-modifiee[]" value="Changement de Matériel">
                            <label class="checkbox-label" for="utilisation-modifiee3">Changement de Matériel</label>
                            <input type="checkbox" id="utilisation-modifiee4" name="utilisation-modifiee[]" value="Suppression de Programmes">
                            <label class="checkbox-label" for="utilisation-modifiee4">Suppression de Programmes</label>
                        </div>
                        <div class="form-group">
                            <label>Problèmes de Performances :</label><br>
                            <input type="checkbox" id="performances-ralentissements" name="performances[]" value="Ralentissements">
                            <label class="checkbox-label" for="performances-ralentissements">Ralentissements</label>
                            <input type="checkbox" id="performances-gels" name="performances[]" value="Écrans Gelés">
                            <label class="checkbox-label" for="performances-gels">Écrans Gelés</label>
                            <input type="checkbox" id="performances-redemarrages" name="performances[]" value="Redémarrages Inattendus">
                            <label class="checkbox-label" for="performances-redemarrages">Redémarrages Inattendus</label>
                            <input type="checkbox" id="performances-erreurs" name="performances[]" value="Messages d'Erreur">
                            <label class="checkbox-label" for="performances-erreurs">Messages d'Erreur</label>
                            <input type="checkbox" id="performances-autre" name="performances[]" value="Autre">
                            <label class="checkbox-label" for="performances-autre">Autre</label>
                        </div>
                        <div class="form-group">
                            <label for="problemes-laptop">Problèmes rencontrés :</label>
                            <textarea id="problemes-laptop" name="problemes-laptop" rows="4"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="problemes-bureau">Problèmes rencontrés :</label>
                            <textarea id="problemes-bureau" name="problemes-bureau" rows="4"></textarea>
                        </div>
                    `;

                } else if (typeAppareil === 'Cellulaire') {
                    questionsSection.innerHTML += `
                        <div class="form-group">
                            <label for="modele-telephone">Modèle du Téléphone :</label>
                            <input type="text" id="modele-telephone" name="modele-telephone">
                        </div>
                        <div class="form-group">
                            <label for="version-android">Version d'Android :</label>
                            <input type="text" id="version-android" name="version-android">
                        </div>
                        <div class="form-group">
                            <label for="etat-ecran">État de l'Écran :</label>
                            <select id="etat-ecran" name="etat-ecran">
                                <option value="">Sélectionner...</option>
                                <option value="Intact">Intact</option>
                                <option value="Fissuré">Fissuré</option>
                                <option value="Cassé">Cassé</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="problemes-batterie">Problèmes de Batterie :</label>
                            <input type="text" id="problemes-batterie" name="problemes-batterie">
                        </div>
                        <div class="form-group">
                            <label for="problemes-performance">Problèmes de Performance :</label>
                            <input type="text" id="problemes-performance" name="problemes-performance">
                        </div>
                        <div class="form-group">
                            <label for="problemes-connectivite">Problèmes de Connectivité :</label>
                            <input type="text" id="problemes-connectivite" name="problemes-connectivite">
                        </div>
                        <div class="form-group">
                            <label for="problemes-logiciels">Problèmes de Logiciels :</label>
                            <input type="text" id="problemes-logiciels" name="problemes-logiciels">
                        </div>
                        <div class="form-group">
                            <label for="problemes-stockage">Problèmes de Stockage :</label>
                            <input type="text" id="problemes-stockage" name="problemes-stockage">
                        </div>
                        <div class="form-group">
                            <label for="problemes-son">Problèmes de Son :</label>
                            <input type="text" id="problemes-son" name="problemes-son">
                        </div>
                        <div class="form-group">
                            <label for="problemes-camera">Problèmes de Caméra :</label>
                            <input type="text" id="problemes-camera" name="problemes-camera">
                        </div>
                    `;
                } else if (typeAppareil === 'Tablette') {
                    questionsSection.innerHTML += `
                        <div class="form-group">
                            <label for="modele-tablette">Modèle de la Tablette :</label>
                            <input type="text" id="modele-tablette" name="modele-tablette">
                        </div>
                        <div class="form-group">
                            <label for="version-android">Version d'Android :</label>
                            <input type="text" id="version-android" name="version-android">
                        </div>
                        <div class="form-group">
                            <label for="etat-ecran-tablette">État de l'Écran :</label>
                            <select id="etat-ecran-tablette" name="etat-ecran-tablette">
                                <option value="">Sélectionner...</option>
                                <option value="Intact">Intact</option>
                                <option value="Fissuré">Fissuré</option>
                                <option value="Cassé">Cassé</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="problemes-batterie-tablette">Problèmes de Batterie :</label>
                            <input type="text" id="problemes-batterie-tablette" name="problemes-batterie-tablette">
                        </div>
                        <div class="form-group">
                            <label for="problemes-performance-tablette">Problèmes de Performance :</label>
                            <input type="text" id="problemes-performance-tablette" name="problemes-performance-tablette">
                        </div>
                        <div class="form-group">
                            <label for="problemes-connectivite-tablette">Problèmes de Connectivité :</label>
                            <input type="text" id="problemes-connectivite-tablette" name="problemes-connectivite-tablette">
                        </div>
                        <div class="form-group">
                            <label for="problemes-logiciels-tablette">Problèmes de Logiciels :</label>
                            <input type="text" id="problemes-logiciels-tablette" name="problemes-logiciels-tablette">
                        </div>
                        <div class="form-group">
                            <label for="problemes-stockage-tablette">Problèmes de Stockage :</label>
                            <input type="text" id="problemes-stockage-tablette" name="problemes-stockage-tablette">
                        </div>
                        <div class="form-group">
                            <label for="problemes-son-tablette">Problèmes de Son :</label>
                            <input type="text" id="problemes-son-tablette" name="problemes-son-tablette">
                        </div>
                        <div class="form-group">
                            <label for="problemes-camera-tablette">Problèmes de Caméra :</label>
                            <input type="text" id="problemes-camera-tablette" name="problemes-camera-tablette">
                        </div>
                    `;
                }
            } else {
                questionsSection.style.display = 'none';
            }
        });

        function validateForm() {
            const requiredInputs = document.querySelectorAll('.required + input, .required + select, .required + textarea');
            let isValid = true;

            requiredInputs.forEach(input => {
                if (!input.value.trim()) {
                    input.style.border = '1px solid red';
                    isValid = false;
                } else {
                    input.style.border = '1px solid #ccc';
                }
            });

            const radioGroups = document.querySelectorAll('.required + input[type="radio"]');
            radioGroups.forEach(radio => {
                const name = radio.name;
                const radios = document.querySelectorAll(`input[name="${name}"]`);
                let isChecked = false;
                radios.forEach(radio => {
                    if (radio.checked) isChecked = true;
                });
                if (!isChecked) {
                    radios.forEach(radio => radio.nextElementSibling.style.color = 'red');
                    isValid = false;
                } else {
                    radios.forEach(radio => radio.nextElementSibling.style.color = '#333');
                }
            });

            if (isValid) generateReport();
            else alert('Veuillez remplir tous les champs obligatoires.');
        }

        function generateReport() {
            const form = document.getElementById('diagnostic-form');
            const formData = new FormData(form);

            const date = new Date().toLocaleString();
            const filename = `rapport_diagnostic_${new Date().toISOString().replace(/[:\-T]/g, '').split('.')[0]}.html`;

            let reportHtml = `
                <!DOCTYPE html>
                <html lang="fr">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Rapport de Diagnostic Informatique</title>
                    <style>
                        body {
                            font-family: Arial, sans-serif;
                            background-color: #f4f4f9;
                            margin: 0;
                            padding: 20px;
                            color: #333;
                        }
                        .container {
                            max-width: 800px;
                            margin: 0 auto;
                            background-color: #fff;
                            padding: 20px;
                            border-radius: 8px;
                            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                        }
                        h1, h2, h3, h4 {
                            color: #007bff;
                        }
                        h2, h3 {
                            border-bottom: 2px solid #007bff;
                            padding-bottom: 5px;
                        }
                        pre {
                            background-color: #f4f4f9;
                            padding: 10px;
                            border-left: 4px solid #007bff;
                            overflow-x: auto;
                        }
                        .report-item {
                            margin-bottom: 20px;
                        }
                        .report-item label {
                            font-weight: bold;
                        }
                        .report-item span {
                            display: inline-block;
                            width: 100%;
                            padding: 8px;
                            border: 1px solid #ccc;
                            border-radius: 4px;
                            box-sizing: border-box;
                            margin-top: 5px;
                        }
                        .report-item textarea {
                            width: 100%;
                            min-height: 100px;
                            resize: vertical;
                        }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>Rapport de Diagnostic Informatique</h1>
                        <p>Généré le : ${date}</p>
            `;

            formData.forEach((value, key) => {
                if (value) {
                    reportHtml += `
                        <div class="report-item">
                            <label>${key.replace(/-/g, ' ')}:</label>
                            <span>${value}</span>
                        </div>
                    `;
                }
            });

            reportHtml += `
                <div class="report-item">
                    <label>Signature du Client :</label>
                    <div style="border: 1px solid #ccc; height: 100px; width: 100%; margin-top: 10px;"></div>
                </div>
                <div class="report-item">
                    <label>Date :</label>
                    <span>${new Date().toLocaleDateString('fr-CA')}</span>
                </div>
                <div class="report-item">
                    <p>
                        Nous ne pouvons être tenus responsables des dommages matériels qui pourraient survenir pendant le processus de réparation,
                        y compris mais non limité à la casse, la dégradation ou la perte de pièces.
                    </p>
                    <p>
                        Nous ne sommes pas responsables de la perte de données. Il est de votre responsabilité de sauvegarder toutes les données importantes avant de soumettre votre appareil pour réparation. 
                        Nous ne garantissons pas que toutes les données pourront être récupérées ou préservées durant le processus de réparation.
                    </p>
                    <p>
                        Nous ne serons pas tenus responsables des dommages indirects ou consécutifs, y compris la perte de profits, d'économies, de données ou d'utilisation de votre appareil ou de tout équipement associé.
                        Nous nous réservons le droit de refuser tout service de réparation à tout moment et pour toute raison. En cas de litige, la responsabilité de notre magasin sera limitée au montant payé pour le service de réparation.
                    </p>
                </div>
            `;

            reportHtml += `
                    </div>
                </body>
                </html>
            `;

            const blob = new Blob([reportHtml], { type: 'text/html' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = filename;
            link.target = '_blank';
            link.click();
        }
    </script>
</body>
</html>
